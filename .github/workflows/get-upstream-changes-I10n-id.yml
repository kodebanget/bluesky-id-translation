name: pull upstream changes for new untranslated strings (ID)
run-name: pull upstream changes for new untranslated strings (ID)
on: [push]
jobs:
  pull-new-strings:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - run: git remote add upstream https://github.com/bluesky-social/social-app.git
      - run: git fetch upstream main
      - run: |
          FILE_IS_UPDATED=$(git diff --compact-summary origin/main upstream/main | grep 'id/messages.po')
          echo $FILE_IS_UPDATED
          if [ "$FILE_IS_UPDATED" != "" ]; then
            git config user.email "151415765+kodebanget@users.noreply.github.com"
            git config user.name "kemarau"
            git rebase upstream/main
            git push origin main
          fi
